中心化服务
------------------------------------------

## 提供接口
1. 查询账户：端口account，参数账号地址，返回账户余额、最后交易哈希和区块高度

    `get /account?address=0x123...abc	return {"balance":"100000","lastTxHash":"0x123...abc","lastBlockHeight":"20000"}`

2. 存款交易：端口stakeTx，参数json字符串，无数据返回

    `post /stakeTx body：{"key":"0x123...abc","value":"100000"} return {}`

3. 加密交易：端口encryptTx，参数json字符串，无数据返回

    `post /encryptTx body：{"key":"0x123...abc","from":"0x123...abc","to":"0x123...abc","value":"100000"} return {}`

### 注解
1. http code 200代表成功，400代表失败
2. 入参说明：key发送交易私钥，from转账支付账户，to转账接收账户，value存款或转账金额
3. 货币单位统一为最小单位wei，1Qday=10^18wei
4. 由服务后端直接签发交易（前端传递私钥给后端）
5. 存款交易暂时开发给任意账户使用，后期可能需要特定账户才能存款
6. 加密的utxo暂时不额外收取手续费


## 依赖（合约）
1. WQday代币转账接口
2. 存储加密的utxo数据接口（调用成功后发出加密交易事件）
3. 监听加密交易事件，参数为加密的UTXO交易数据


## 功能实现
1. 持久化存储每个账户的余额、最后一次交易哈希及区块高度
2. 持久化存储UTXO交易列表（解密的）
3. 监听加密交易事件，解密交易，铸造或加减相关账户的余额
4. 验证存款交易是否有效，发送ERC20转账交易将wQday转给加密合约，同时发送加密交易（铸造类别）
5. 验证需要加密的交易是否有效（如输入金额是否足够等等），并发送加密交易（转账类别）
6. 为了简化前端调用，前端只需要输入金额和接收账户即可转账，utxo由后端自动完成组装


## 加密交易

使用对称加密算法加密交易数据，链上数据是加密的，用户可以通过此服务接口查看余额和发送交易

**加密字段列表：**

1. vin，多笔未花费的utxo输出
    1. hash，utxo交易哈希（sha256）
    2. n，utxo输出索引(0或者1)
2. vout, 一笔或两笔（找零）utxo交易输出
    1. address，输出账户地址
    2. value，输出金额

**示例：**
```
{
    "vin":[
        {"hash":"0x123...abc","n":0},
        {"hash":"0x123...abc","n":1},
    ],
    "vout":[
        {"address":"0x123...abc","value":100},
        {"address":"0x123...abc","value":200},
    ]
}
```

### 注解
1. 铸造交易没有utxo输入字段
2. 输入和输出金额之和相等
3. 如果不需要找零，utxo输出为一个，否则为两个